(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"ct+p":function(t,o,n){"use strict";n.r(o),n.d(o,"HomeModule",(function(){return f}));var a=n("ofXK"),e=n("tyNb"),r=n("CDhE"),c=n("fXoL"),l=n("XR/N"),i=n("l7P3"),s=n("MT78"),g=n("DKVz");let p=(()=>{class t{constructor(){this.max=-1/0,this.min=1/0}ngOnInit(){s.registerMap("world",this.worldLocal);const t=this.extracthasCountryData(this.data),o=this.extractCountryCodeList(t);this.mapData=this.extractData(t,o,this.countryDataLocal,this.latlongLocal),this.calPerfectData(this.mapData),this.chartOption={backgroundColor:"#1a2b3e",title:{text:`${t.length} of ${this.data.length} pro players in our Dota2 World`,left:"center",top:30,textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:t=>`<div  style="background-color: rgba(0, 0, 0, 1); margin: -12px; color: rgba(255, 255, 255); font-size:13px; padding: 12px">\n            ${t.name} : ${t.value[2]}\n            </div>`},visualMap:{show:!1,min:this.min,max:this.max,inRange:{symbolSize:[this.min,this.max],color:["green","yellow"]}},geo:{name:"Dota2 World Players (pro)",left:30,top:90,right:30,bottom:30,type:"map",map:"world",roam:!0,emphasis:{label:{show:!1},itemStyle:{areaColor:"#E29B01"}},label:{show:!1},itemStyle:{areaColor:"#b8b6b4"}},series:[{type:"scatter",coordinateSystem:"geo",data:this.extractSeriesData(this.mapData)}]}}extractData(t,o,n,a){const e=[];return o.forEach(o=>{var r,c;const l=t.filter(t=>t.country_code===o),i=o.toUpperCase();e.push(Object.assign(Object.assign({code:o},a[i]),{name:null===(c=null===(r=n[i])||void 0===r?void 0:r.name)||void 0===c?void 0:c.common,value:l.length,players:l}))}),e}calPerfectData(t){t=t.map(t=>t.value),this.max=Math.max(...t),this.min=Math.min(...t)}extractSeriesData(t){return t.map(t=>({name:t.name,value:[t.longitude,t.latitude,t.value]}))}extracthasCountryData(t){return t.filter(t=>""!==t.country_code)}extractCountryCodeList(t){return t=t.map(t=>t.country_code),[...new Set(t)]}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=c.Ib({type:t,selectors:[["app-world-population-chart"]],inputs:{data:"data",countryDataLocal:"countryDataLocal",latlongLocal:"latlongLocal",worldLocal:"worldLocal"},decls:1,vars:1,consts:[["echarts","",1,"chart",3,"options"]],template:function(t,o){1&t&&c.Pb(0,"div",0),2&t&&c.nc("options",o.chartOption)},directives:[g.a],styles:[".unknown-txt[_ngcontent-%COMP%]{color:#b8b6b4}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif;color:#b8b6b4;background:#1a2b3e}*[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0}*[_ngcontent-%COMP%]{padding:0}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{opacity:.8;cursor:pointer}.account_link[_ngcontent-%COMP%]{color:#6bf;display:block}.wrapper[_ngcontent-%COMP%]{padding:30px 0 150px;width:1200px;margin:0 auto}.mat-paginator[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.03);background:none}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.03);text-transform:uppercase}.mat-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type, .mat-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, .mat-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:10px}.mat-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type, .mat-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, .mat-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:10px}.mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#b8b6b4;font-size:13px}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.chart[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;bottom:0;left:0}.chart[_ngcontent-%COMP%]   .echarts-tooltip[_ngcontent-%COMP%]{border:1px solid #000!important;background-color:#000!important;color:#fff!important;font-size:13px!important;padding:12px!important}"]}),t})();function d(t,o){1&t&&(c.Ub(0,"div"),c.Kc(1,"Loading"),c.Tb())}function h(t,o){if(1&t&&c.Pb(0,"app-world-population-chart",2),2&t){const t=c.fc();c.nc("data",t.proPlayersData)("worldLocal",t.worldLocal)("latlongLocal",t.latlongLocal)("countryDataLocal",t.countryDataLocal)}}const m=[{path:"",component:(()=>{class t{constructor(t,o){this.playersService=t,this.store=o,this.isLoading=!1}ngOnInit(){this.store.dispatch(new r.K),this.store.select("proPlayers").subscribe(t=>{if(this.isLoading=t.isLoading,!t.isLoading){this.isLoading=t.isLoading;const o=[...t.pros];return this.proPlayersData=o}},t=>{console.log(t)}),this.getCountriesLocal(),this.getLatlongLocal(),this.getWorldLocal()}getCountriesLocal(){this.playersService.getCountriesLocal().subscribe(t=>{this.countryDataLocal=t},t=>{console.log(t)})}getLatlongLocal(){this.playersService.getLatlongLocal().subscribe(t=>{this.latlongLocal=t},t=>{console.log(t)})}getWorldLocal(){this.playersService.getWorldLocal().subscribe(t=>{this.worldLocal=t},t=>{console.log(t)})}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(l.a),c.Ob(i.h))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasData",""],[3,"data","worldLocal","latlongLocal","countryDataLocal"]],template:function(t,o){if(1&t&&(c.Ic(0,d,2,0,"div",0),c.Ic(1,h,1,4,"ng-template",null,1,c.Jc)),2&t){const t=c.wc(2);c.nc("ngIf",o.isLoading)("ngIfElse",t)}},directives:[a.m,p],styles:[".home[_ngcontent-%COMP%]{background:url(bg0.37629e03f59235b7c2dd.jpg) no-repeat 50%;height:100%;width:100%;position:absolute;top:0;left:0;right:0;bottom:0}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(o){return new(o||t)},imports:[[e.g.forChild(m)],e.g]}),t})();var b=n("PCNd");let f=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(o){return new(o||t)},imports:[[a.c,u,b.a]]}),t})()}}]);