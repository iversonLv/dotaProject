<table mat-table [dataSource]="dataSource" matSort>
  <!-- ranks column -->
  <ng-container matColumnDef="category" *ngIf="displayedColumns.includes('category')">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> CATEGORY </th>
    <td mat-cell *matCellDef="let element">
      {{countType !== 'region' ? (element.category | nameDestruct: '_': '2' : 'upperCase') : element.category}}
    </td>
  </ng-container>
  
  <!-- games column -->
  <ng-container matColumnDef="games" *ngIf="displayedColumns.includes('games')">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> MATCHES </th>
    <td mat-cell *matCellDef="let element">
      {{element.games}}
      <app-bar-chart [data]='[largestGames, element.games]'></app-bar-chart>
    </td>
  </ng-container>

  <!-- win percentage column -->
  <ng-container matColumnDef="winP" *ngIf="displayedColumns.includes('winP')">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> WIN % </th>
    <td mat-cell *matCellDef="let element">
      {{element.winP * 100 | number: '1.0-1'}}
      <app-bar-chart [data]='[1, element.winP]'></app-bar-chart>
    </td>
  </ng-container>
  
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
